{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/comps/progress/index.js","webpack:///./src/main.js","webpack:///./src/comps/toast/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","dom","constructor","this","el","bar","text","document","createElement","className","innerHTML","querySelector","appendChild","progressing","num","style","display","width","progressend","camera","scene","renderer","list","loadModel","remove","window","obj","mtlLoader","THREE","MTLLoader","setPath","load","materials","preload","objLoader","OBJLoader","setMaterials","scale","set","add","xhr","lengthComputable","loaded","total","Toast","toast","ERROR","console","log","stats","Stats","bottom","top","body","PerspectiveCamera","innerWidth","innerHeight","position","lookAt","Vector3","Scene","BoxGeometry","MeshPhysicalMaterial","AmbientLight","light","PointLight","castShadow","background","CubeTextureLoader","WebGLRenderer","antialias","setClearColor","setSize","domElement","addEventListener","e","aspect","updateProjectionMatrix","forEach","a","helper","AxisHelper","progress","controls","OrbitControls","enableDamping","enableZoom","autoRotate","minDistance","maxDistance","enablePan","init","animate","requestAnimationFrame","update","render","[object Object]","type","setAttribute","left","clientWidth","setTimeout","removeChild"],"mappings":"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","file":"static/js/app.588fe4897b913a225966.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"Vtdi\");\n","\nimport css from './index.css'\n\nlet dom=`\n\n    <div class=\"progress\">\n        <div class=\"progress-bar\">\n            <div class=\"progress-bar-inner\">\n            </div>\n        </div>\n        <p></p>\n    </div>\n`;\nexport default class Progress\n{\n  el=null\n  bar=null\n  text=null\n  constructor(){\n    this.el=document.createElement('div');\n    this.el.className=\"progress-continer\";\n    this.el.innerHTML=dom;\n    this.bar=this.el.querySelector('.progress-bar-inner');\n    this.text=this.el.querySelector('p');\n\n    document.querySelector('body').appendChild(this.el);\n  }\n  progressing(num,text){\n    this.el.style.display='block';\n    this.bar.style.width=`${num*100}%`;\n    this.text.innerHTML=`加载中...${num*100}%`;\n  }\n  progressend(){\n    this.el.style.display='none';\n  }\n\n}\n","\n\nimport '@/css/main.css';\nimport progress from './comps/progress'\nimport Toast from './comps/toast'\nvar camera, scene, renderer;\nvar geometry, material, mesh;\nvar ms;\n\nconst list=['0 RAISER','0','ARIOS','CHERUDIM','DYNAMES','EXIA','FLAG_CUSTOM_MA','FLAG_CUSTOM_MS','GN_ARCHER','KYRIOS_MA','KYRIOS_MS','NADLEEH','OO','SERAVEE','VIRTUE'];\nconsole.log(THREE);\ninit();\nanimate();\n\nfunction init() {\n    initStats();\n\n    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 1000 );\n    camera.position.set(0, 40, 50);\n    camera.lookAt(new THREE.Vector3(0,0,0));\n    scene = new THREE.Scene();\n    window.camera=camera;\n\n\tgeometry = new THREE.BoxGeometry( 1, 1, 1 );\n\tmaterial = new THREE.MeshPhysicalMaterial();\n\n    scene.add(new THREE.AmbientLight(0x444444));\n\n    let light = new THREE.PointLight(0xffffff);\n    light.position.set(0, 50, 0);\n    light.castShadow = true;\n\n    scene.add(light);\n\n\n\n    scene.background = new THREE.CubeTextureLoader()\n         .setPath( 'static/background/' )\n         .load( [ 'px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg' ] );\n\n    ms=[];\n\n    // for (let i = 0; i < 100; i++) {\n    //     mesh = new THREE.Mesh( geometry, material );     \n    //     mesh.position.x=2*(i%10)-10;\n    //     mesh.position.y=2*Math.floor(i/10)-10;\n    //     // mesh.position.y=0;\n    // scene.add( mesh );\n    // ms.push(mesh);\n    // }\n\n    renderer = new THREE.WebGLRenderer( { antialias: true } );\n    renderer.setClearColor('#ffffff',1.0)\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\tdocument.body.appendChild( renderer.domElement );\n\n    window.addEventListener('resize',(e)=>{\n        renderer.setSize( window.innerWidth, window.innerHeight );\n        camera.aspect = window.innerWidth/ window.innerHeight;\n        camera.updateProjectionMatrix();\n    });\n    let d=document.createElement('div');\n    d.className=\"selectDIV\";\n    document.body.appendChild(d);\n    list.forEach(l=>{\n        let a=document.createElement('a');\n        a.innerHTML=l;\n        a.addEventListener('click',()=>{loadModel(l)});\n        document.querySelector('.selectDIV').appendChild(a);\n        \n\n    })\n    var helper = new THREE.AxisHelper(50);\n    scene.add(helper);\n    window.p=new progress();\n\n\n    initControls();\n    loadModel();\n\n}\nfunction loadModel(l){\n    scene.remove(window.obj);\n    l=l||list[0];\n\n    // THREE.Loader.Handlers.add( /\\.dds$/i, new THREE.DDSLoader() );\n \n    var mtlLoader = new THREE.MTLLoader();\n    //设置路径，也可不是设置，在load中加载完整路径也可\n        mtlLoader.setPath( 'static/model/OO/' );\n        window.p.progressing(0);\n        mtlLoader.load( `${l}.mtl`, \n     // 资源加载成功后执行的函数 \n                 //@params materials THREE.MTLLoader.MaterialCreator\n                          function( materials ) {\n                            window.p.progressing(0);\n                    materials.preload();\n                    var objLoader = new THREE.OBJLoader();\n                        objLoader.setMaterials( materials );\n                        objLoader.setPath( 'static/model/OO/' );\n                        window.p.progressend();\n                        objLoader.load( `${l}.obj`, function ( object ) {\n                            object.scale.set(0.1,0.1,0.1);\n                            window.obj=object;\n                            scene.add( object );\n                            window.p.progressend();\n                        },(xhr)=>{\n\n                            if (xhr.lengthComputable) {\n                                window.p.progressing(xhr.loaded / xhr.total);\n                            }\n    \n                        },()=>{\n                            window.p.progressend();\n                            Toast.toast('加载失败',Toast.ERROR);\n                        });\n                    },(xhr)=>{\n\n                        if (xhr.lengthComputable) {\n                            window.p.progressing(xhr.loaded / xhr.total);\n                        }\n\n                    },()=>{\n                        window.p.progressend();\n                        Toast.toast('加载失败',Toast.ERROR);\n                    });\n\n}\nfunction initControls() {\n\n \n\n    window.controls = new THREE.OrbitControls( camera, renderer.domElement );\n\n\n\n    // 如果使用animate方法时，将此函数删除\n\n    //controls.addEventListener( 'change', render );\n\n    // 使动画循环使用时阻尼或自转 意思是否有惯性\n\n    window.controls.enableDamping = true;\n\n    //动态阻尼系数 就是鼠标拖拽旋转灵敏度\n\n    //controls.dampingFactor = 0.25;\n\n    //是否可以缩放\n\n    window.controls.enableZoom = true;\n\n    //是否自动旋转\n\n    window.controls.autoRotate = true;\n\n    //设置相机距离原点的最远距离\n\n    window.controls.minDistance  = 1;\n\n    //设置相机距离原点的最远距离\n\n    window.controls.maxDistance  = 200;\n\n    //是否开启右键拖拽\n\n    window.controls.enablePan = true;\n\n}\nfunction initStats() {\n\n    window.stats = new Stats();\n    stats.dom.style.bottom='0px';\n    stats.dom.style.top=null;\n    document.body.appendChild(stats.dom);\n\n}\n\nfunction animate() {\n\n\trequestAnimationFrame( animate );\n\n    window.stats.update();\n    window.controls.update();\n\trenderer.render( scene, camera );\n\n}","import \"./index.css\"\n\nexport default class Toast\n{\n\tstatic ERROR='error'\n\n\tstatic toast(text,type){\n\t\tvar toast = document.createElement(\"div\");\n\t\ttoast.setAttribute(\"role\", \"toast\");\n\t\ttoast.innerHTML = text;\n\n\t\tdocument.querySelector(\"body\").appendChild(toast);\n\t\ttoast.className = `${type} toast fade `;\n\t\t\n\t\t//IE9+\n\t\ttoast.style.left = 'calc((100% - ' + toast.clientWidth + 'px)/2)';\n\n\t\tsetTimeout(function() {\n\t\t\ttoast.className = `${type} toast`;\n\t\t}, 0);\n\n\t\tsetTimeout(function() {\n\t\t\ttoast.className = `${type} toast fade`;\n\t\t\tsetTimeout(function() {\n\t\t\t\tdocument.querySelector(\"body\").removeChild(toast);\n\t\t\t}, 500);\n\t\t}, 2000);\n\n\n\n\t}\n\n\n\n}"],"sourceRoot":""}